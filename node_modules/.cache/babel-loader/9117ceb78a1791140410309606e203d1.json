{"ast":null,"code":"import _slicedToArray from\"/home/blck-wlf/monDepotGit/projet-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import Cards from'./Cards';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Contries=function Contries(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sortedData=_useState4[0],setSortedData=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),playOnce=_useState6[0],setPlayOnce=_useState6[1];var _useState7=useState(40),_useState8=_slicedToArray(_useState7,2),rangeValue=_useState8[0],setRangeValue=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),selectedRadio=_useState10[0],setSelectedRadio=_useState10[1];var radios=['Africa','America','Asia','Europe','Oceania'];useEffect(function(){if(playOnce){//pour utiliser axios, il faut mettre dans le terminal << npm install -s axios >>\naxios.get('https://restcountries.eu/rest/v2/all?fields=name;population;region;capital;flag').then(function(response){setData(response.data);setPlayOnce(false);});}var sortedCountry=function sortedCountry(){var countryObj=Object.keys(data).map(function(i){return data[i];});var sortedArray=countryObj.sort(function(a,b){return b.population-a.population;});sortedArray.length=rangeValue;setSortedData(sortedArray);};sortedCountry();},[data,rangeValue,playOnce]);return/*#__PURE__*/_jsxs(\"div\",{className:\"countries\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sort-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"250\",value:rangeValue,onChange:function onChange(e){return setRangeValue(e.target.value);}}),/*#__PURE__*/_jsxs(\"ul\",{children:[radios.map(function(radio){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:radio,id:radio,checked:radio===selectedRadio,onChange:function onChange(e){return setSelectedRadio(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:radio,children:radio})]},radio);}),\";\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cancel\",children:[selectedRadio&&/*#__PURE__*/_jsx(\"h5\",{onClick:function onClick(){return setSelectedRadio('');},children:\"Annuler recherche\"}),\";\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"countries-list\",children:sortedData.filter(function(country){return country.region.includes(selectedRadio);}).map(function(country){return/*#__PURE__*/_jsx(Cards,{country:country},country.name)//avec country on a crée un props, on a envoyé les donnéesde Country dans Cards\n;})})]});};export default Contries;","map":{"version":3,"sources":["/home/blck-wlf/monDepotGit/projet-world/src/components/Contries.js"],"names":["React","useEffect","useState","axios","Cards","Contries","data","setData","sortedData","setSortedData","playOnce","setPlayOnce","rangeValue","setRangeValue","selectedRadio","setSelectedRadio","radios","get","then","response","sortedCountry","countryObj","Object","keys","map","i","sortedArray","sort","a","b","population","length","e","target","value","radio","filter","country","region","includes","name"],"mappings":"8JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,wFACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAI,CAEjB,cAAuBH,QAAQ,CAAC,EAAD,CAA/B,wCAAOI,IAAP,eAAYC,OAAZ,eACA,eAAkCL,QAAQ,CAAC,EAAD,CAA1C,yCAAOM,UAAP,eAAkBC,aAAlB,eACA,eAA6BP,QAAQ,CAAC,IAAD,CAArC,yCAAOQ,QAAP,eAAgBC,WAAhB,eACA,eAAmCT,QAAQ,CAAC,EAAD,CAA3C,yCAAOU,UAAP,eAAkBC,aAAlB,eACA,eAAuCX,QAAQ,CAAC,EAAD,CAA/C,0CAAOY,aAAP,gBAAqBC,gBAArB,gBACA,GAAMC,CAAAA,MAAM,CAAG,CAAC,QAAD,CAAU,SAAV,CAAoB,MAApB,CAA2B,QAA3B,CAAoC,SAApC,CAAf,CAEAf,SAAS,CAAC,UAAI,CACV,GAAGS,QAAH,CAAY,CACP;AACLP,KAAK,CAACc,GAAN,CAAU,iFAAV,EACSC,IADT,CACc,SAACC,QAAD,CAAY,CACdZ,OAAO,CAACY,QAAQ,CAACb,IAAV,CAAP,CACAK,WAAW,CAAC,KAAD,CAAX,CACH,CAJT,EAKC,CAID,GAAMS,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAK,CACvB,GAAMC,CAAAA,UAAU,CAAGC,MAAM,CAACC,IAAP,CAAYjB,IAAZ,EAAkBkB,GAAlB,CAAsB,SAACC,CAAD,QAAKnB,CAAAA,IAAI,CAACmB,CAAD,CAAT,EAAtB,CAAnB,CACA,GAAMC,CAAAA,WAAW,CAAGL,UAAU,CAACM,IAAX,CAAgB,SAACC,CAAD,CAAGC,CAAH,CAAO,CACvC,MAAOA,CAAAA,CAAC,CAACC,UAAF,CAAeF,CAAC,CAACE,UAAxB,CACH,CAFmB,CAApB,CAGAJ,WAAW,CAACK,MAAZ,CAAmBnB,UAAnB,CACAH,aAAa,CAACiB,WAAD,CAAb,CACH,CAPD,CAQAN,aAAa,GAChB,CArBQ,CAqBP,CAACd,IAAD,CAAMM,UAAN,CAAkBF,QAAlB,CArBO,CAAT,CAwBA,mBACI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,cAAO,IAAI,CAAC,OAAZ,CAAoB,GAAG,CAAC,GAAxB,CAA4B,GAAG,CAAC,KAAhC,CAAsC,KAAK,CAAEE,UAA7C,CAAyD,QAAQ,CAAE,kBAACoB,CAAD,QAAOnB,CAAAA,aAAa,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAApB,EAAnE,EADJ,cAGI,sBACKlB,MAAM,CAACQ,GAAP,CAAW,SAACW,KAAD,CAAS,CACjB,mBACK,mCACD,cAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAEA,KAA3B,CAAkC,EAAE,CAAEA,KAAtC,CACA,OAAO,CAAEA,KAAK,GAAKrB,aADnB,CACkC,QAAQ,CAAE,kBAACkB,CAAD,QAAKjB,CAAAA,gBAAgB,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAD5C,EADC,cAGD,cAAO,OAAO,CAAEC,KAAhB,UAAwBA,KAAxB,EAHC,GAASA,KAAT,CADL,CAQH,CATA,CADL,OAHJ,GADJ,cAkBI,aAAK,SAAS,CAAC,QAAf,WACKrB,aAAa,eAAI,WAAI,OAAO,CAAE,yBAAIC,CAAAA,gBAAgB,CAAC,EAAD,CAApB,EAAb,+BADtB,OAlBJ,cAsBI,WAAI,SAAS,CAAC,gBAAd,UACKP,UAAU,CACV4B,MADA,CACO,SAACC,OAAD,QAAWA,CAAAA,OAAO,CAACC,MAAR,CAAeC,QAAf,CAAwBzB,aAAxB,CAAX,EADP,EAEAU,GAFA,CAEI,SAACa,OAAD,qBACL,KAAC,KAAD,EAAO,OAAO,CAAGA,OAAjB,EAA+BA,OAAO,CAACG,IAAvC,CAAgD;AAD3C,EAFJ,CADL,EAtBJ,GADJ,CAiCH,CAlED,CAmEA,cAAenC,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Cards from './Cards';\nconst Contries = ()=>{\n\n    const [data,setData] = useState([]);\n    const [sortedData,setSortedData]= useState([]);\n    const [playOnce,setPlayOnce]=useState(true);\n    const [rangeValue,setRangeValue] = useState(40);\n    const [selectedRadio,setSelectedRadio]=useState('');\n    const radios = ['Africa','America','Asia','Europe','Oceania'];\n\n    useEffect(()=>{\n        if(playOnce){\n             //pour utiliser axios, il faut mettre dans le terminal << npm install -s axios >>\n        axios.get('https://restcountries.eu/rest/v2/all?fields=name;population;region;capital;flag')\n                .then((response)=>{\n                    setData(response.data);\n                    setPlayOnce(false);\n                });\n        }\n       \n        \n\n        const sortedCountry = () =>{\n            const countryObj = Object.keys(data).map((i)=>data[i]);\n            const sortedArray = countryObj.sort((a,b)=>{\n                return b.population - a.population;\n            });\n            sortedArray.length=rangeValue;\n            setSortedData(sortedArray);\n        }\n        sortedCountry();\n    },[data,rangeValue, playOnce]);\n\n    \n    return(\n        <div className='countries'>\n            <div className='sort-container'>\n                <input type='range' min='1' max='250' value={rangeValue} onChange={(e) => setRangeValue(e.target.value)}/>\n\n                <ul>\n                    {radios.map((radio)=>{\n                        return (\n                             <li key={radio}>\n                            <input type='radio' value={radio} id={radio} \n                            checked={radio === selectedRadio} onChange={(e)=>setSelectedRadio(e.target.value)}/>\n                            <label htmlFor={radio}>{radio}</label>\n                        </li>\n                        );\n                       \n                    })};\n                </ul>\n            </div>\n            \n            <div className='cancel'>\n                {selectedRadio && <h5 onClick={()=>setSelectedRadio('')}>Annuler recherche</h5>};\n            </div>\n\n            <ul className='countries-list'>\n                {sortedData\n                .filter((country)=>country.region.includes(selectedRadio))\n                .map((country)=>(\n                <Cards country ={country} key={country.name} /> //avec country on a crée un props, on a envoyé les donnéesde Country dans Cards\n                ))}\n            </ul>\n            \n        </div>\n    )\n}\nexport default Contries;"]},"metadata":{},"sourceType":"module"}